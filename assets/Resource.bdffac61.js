import{B as b,N as q,i as Q,ab as W,ac as X,a7 as Y,ad as Z,a8 as ee,o as p,n as U,p as h,e as o,w as r,d as e,q as m,t as i,a9 as le,F as I,C as ae,b as _,v as V,aa as oe,ae as te,af as re,_ as de,$ as ne,P as ue,a0 as se}from"./vendor.2e053485.js";/* empty css                  *//* empty css                 */import{d as pe}from"./index.d96deae4.js";/* empty css                     */import{l as me,r as ie,s as ce,u as fe,a as _e}from"./app-resource.c23532a7.js";import{u as ye}from"./use-table-handlers.9ba9aeae.js";const be={class:"main-body"},he={class:"toolbar"},Ve={class:"dialog-footer"},Ue={setup(ge){const g=b(["folder","menu","button"]),c=q({name:""}),t=q({id:"",type:0,name:"",displayName:"",parentId:null,url:"",orderNum:0,icon:""}),{t:l,tableRef:B,dialogVisible:y,isEdit:N,formLoading:Ne,formRef:D,doSearch:T,doAdd:F,doEdit:S,doRemove:x,doSubmit:K,doClose:k}=ye(t),v=b([]),P=Q(()=>[{prop:"id",label:l("thead.ID")},{prop:"name",label:l("thead.name")},{prop:"displayName",label:l("thead.displayName")},{prop:"icon",label:l("thead.icon")},{prop:"type",label:l("thead.type"),formatter:u=>{const a=u.type;return te(re,{type:{1:"success",2:"info"}[a]||""},()=>l(`status.${g.value[a]}`))}},{prop:"url",label:l("thead.url"),showOverflowTooltip:!0},{prop:"orderNum",label:l("thead.orderNum")}]),H=b({name:[{required:!0,message:l("form.nameRequired"),trigger:"blur"}],displayName:[{required:!0,message:l("form.displayNameRequired"),trigger:"blur"}],url:[{required:!0,message:l("form.urlRequired"),trigger:"blur"}]}),E=()=>{_e().then(u=>{v.value=u.data})};function L(){E(),F()}function $(u){E(),S(u)}function A(u,a){x(ie,u,a)}function R(){K({save:ce,update:fe})}return(u,a)=>{const s=de,n=ne,f=ue,C=se,G=pe,M=W,O=X,j=Y,z=Z,J=ee;return p(),U(I,null,[h("div",be,[h("div",he,[o(C,{inline:!0,model:e(c)},{default:r(()=>[o(n,null,{default:r(()=>[o(s,{modelValue:e(c).name,"onUpdate:modelValue":a[0]||(a[0]=d=>e(c).name=d),placeholder:e(l)("thead.name")},null,8,["modelValue","placeholder"])]),_:1}),o(n,null,{default:r(()=>[o(f,{icon:"search",type:"primary",onClick:e(T)},{default:r(()=>[m(i(e(l)("action.search")),1)]),_:1},8,["onClick"])]),_:1}),o(n,null,{default:r(()=>[o(f,{icon:"plus",type:"primary",onClick:L},{default:r(()=>[m(i(e(l)("action.add")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),o(G,{rowKey:"id",ref_key:"tableRef",ref:B,"get-page":e(me),columns:e(P),filters:e(c),showBatchDelete:!1,showPagination:!1,onHandleEdit:$,onHandleDelete:A},null,8,["get-page","columns","filters"])]),o(J,{title:e(N)?e(l)("action.edit"):e(l)("action.add"),width:"40%",draggable:"",modelValue:e(y),"onUpdate:modelValue":a[8]||(a[8]=d=>oe(y)?y.value=d:null),"close-on-click-modal":!1,onClose:e(k)},{footer:r(()=>[h("span",Ve,[o(f,{onClick:e(k)},{default:r(()=>[m(i(e(l)("action.cancel")),1)]),_:1},8,["onClick"]),o(f,{type:"primary",onClick:R},{default:r(()=>[m(i(e(l)("action.confirm")),1)]),_:1})])]),default:r(()=>[o(C,{model:e(t),rules:H.value,ref_key:"formRef",ref:D,onKeyup:le(R,["enter"]),"label-width":"80px"},{default:r(()=>[o(n,{label:e(l)("thead.type"),prop:"type"},{default:r(()=>[o(O,{modelValue:e(t).type,"onUpdate:modelValue":a[1]||(a[1]=d=>e(t).type=d),disabled:e(N)},{default:r(()=>[(p(!0),U(I,null,ae(g.value,(d,w)=>(p(),_(M,{label:w,key:w},{default:r(()=>[m(i(e(l)(`status.${d}`)),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue","disabled"])]),_:1},8,["label"]),o(n,{label:e(l)("thead.name"),prop:"name"},{default:r(()=>[o(s,{modelValue:e(t).name,"onUpdate:modelValue":a[2]||(a[2]=d=>e(t).name=d),placeholder:e(l)("form.nameRequired")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),o(n,{label:e(l)("thead.displayName"),prop:"displayName"},{default:r(()=>[o(s,{modelValue:e(t).displayName,"onUpdate:modelValue":a[3]||(a[3]=d=>e(t).displayName=d),placeholder:e(l)("form.displayNameRequired")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e(t).type!==2?(p(),_(n,{key:0,label:e(l)("thead.icon")},{default:r(()=>[o(s,{modelValue:e(t).icon,"onUpdate:modelValue":a[4]||(a[4]=d=>e(t).icon=d),placeholder:e(l)("thead.icon")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])):V("",!0),o(n,{label:e(l)("form.parent")},{default:r(()=>[o(j,{modelValue:e(t).parentId,"onUpdate:modelValue":a[5]||(a[5]=d=>e(t).parentId=d),props:{label:"displayName",value:"id",checkStrictly:!0,emitPath:!1},options:v.value,class:"w100p"},null,8,["modelValue","options"])]),_:1},8,["label"]),e(t).type===1?(p(),_(n,{key:1,label:e(l)("thead.url"),prop:e(t).type===1?"url":""},{default:r(()=>[o(s,{modelValue:e(t).url,"onUpdate:modelValue":a[6]||(a[6]=d=>e(t).url=d),placeholder:e(l)("thead.url")},null,8,["modelValue","placeholder"])]),_:1},8,["label","prop"])):V("",!0),e(t).type!==2?(p(),_(n,{key:2,label:e(l)("thead.orderNum"),prop:e(t).type!==2?"orderNum":""},{default:r(()=>[o(z,{modelValue:e(t).orderNum,"onUpdate:modelValue":a[7]||(a[7]=d=>e(t).orderNum=d),"controls-position":"right",min:0},null,8,["modelValue"])]),_:1},8,["label","prop"])):V("",!0)]),_:1},8,["model","rules","onKeyup"])]),_:1},8,["title","modelValue","onClose"])],64)}}};export{Ue as default};
