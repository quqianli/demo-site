import{j as x,u as V,B as i,N as y,i as k,h as E,_ as B,$ as I,P as N,a0 as R,o as q,n as H,p as f,e as r,d as e,w as t,t as _,q as z}from"./vendor.2e053485.js";/* empty css                     */import{l as A}from"./index.69c61fd6.js";const C={class:"page flex-center"},F={class:"sign-box"},L={class:"title"},$={setup(S){const g=x(),{t:o}=V(),c=i(),a=y({account:"",password:""}),h=k(()=>({account:[{required:!0,message:o("form.usernameHolder"),trigger:["change","blur"]},{pattern:/^[a-zA-Z][a-zA-Z0-9_-]{3,31}$/,message:o("form.usernameError"),trigger:["change","blur"]}],password:{required:!0,min:4,message:o("form.passwordError"),trigger:["change","blur"]}})),l=i(!1),n=E();function w(){c.value.validate(m=>{!m||(l.value=!0,A(a).then(s=>{n.commit("user/setToken",s.data.token),n.dispatch("user/refreshInfo"),n.commit("setRouteLoaded",!1),g.push("/")}).finally(()=>{l.value=!1}))})}return(m,s)=>{const p=B,u=I,b=N,v=R;return q(),H("div",C,[f("div",F,[r(v,{ref_key:"formRef",ref:c,model:e(a),rules:e(h),"label-width":"86px"},{default:t(()=>[f("h3",L,_(e(o)("login")),1),r(u,{label:e(o)("form.username"),prop:"account"},{default:t(()=>[r(p,{modelValue:e(a).account,"onUpdate:modelValue":s[0]||(s[0]=d=>e(a).account=d),placeholder:e(o)("form.usernameHolder"),"prefix-icon":"user"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),r(u,{label:e(o)("form.password"),prop:"password"},{default:t(()=>[r(p,{modelValue:e(a).password,"onUpdate:modelValue":s[1]||(s[1]=d=>e(a).password=d),type:"password",placeholder:e(o)("form.passwordHolder"),"prefix-icon":"lock"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),r(u,{label:""},{default:t(()=>[r(b,{type:"primary",loading:l.value,class:"w100p",onClick:w},{default:t(()=>[z(_(e(o)("login")),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model","rules"])])])}}};export{$ as default};
