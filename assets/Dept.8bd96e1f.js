import{N as V,B as P,i as k,a7 as A,a8 as W,o as L,n as O,p as B,e as l,w as t,d as e,q as u,t as p,a9 as $,aa as j,F as z,_ as G,$ as J,P as M,a0 as Q}from"./vendor.2e053485.js";/* empty css                  *//* empty css                 */import{d as X}from"./index.69c61fd6.js";/* empty css                     */import{l as Y,r as Z,s as ee,u as ae,a as le}from"./app-dept.aecbb982.js";import{u as te}from"./use-table-handlers.62dd0db8.js";const oe={class:"main-body"},ne={class:"toolbar"},_e={setup(de){const i=V({name:""}),r=V({id:"",name:"",parentId:null}),{t:a,tableRef:C,dialogVisible:c,isEdit:E,formLoading:re,formRef:v,doSearch:I,doAdd:T,doEdit:w,doRemove:D,doSubmit:R,doClose:f}=te(r),_=P([]),U=k(()=>[{prop:"id",label:a("thead.ID")},{prop:"name",label:a("thead.name")},{prop:"createdBy",label:a("thead.createdBy")},{prop:"createdTime",label:a("thead.createdTime"),minWidth:160},{prop:"lastUpdatedBy",label:a("thead.updatedBy")},{prop:"lastUpdatedTime",label:a("thead.updatedTime"),minWidth:160}]),x=k(()=>({name:[{required:!0,message:a("form.usernameHolder"),trigger:["change","blur"]}]}));function h(n){le(n?{id:n.id}:null).then(o=>{_.value=o.data})}function F(){h(),T()}function S(n){h(n),w(n)}function H(n,o){D(Z,n,o)}function b(){R({save:ee,update:ae})}return(n,o)=>{const y=G,s=J,m=M,g=Q,K=X,N=A,q=W;return L(),O(z,null,[B("div",oe,[B("div",ne,[l(g,{inline:!0,model:e(i)},{default:t(()=>[l(s,null,{default:t(()=>[l(y,{modelValue:e(i).name,"onUpdate:modelValue":o[0]||(o[0]=d=>e(i).name=d),placeholder:e(a)("thead.name")},null,8,["modelValue","placeholder"])]),_:1}),l(s,null,{default:t(()=>[l(m,{icon:"search",type:"primary",onClick:e(I)},{default:t(()=>[u(p(e(a)("action.search")),1)]),_:1},8,["onClick"])]),_:1}),l(s,null,{default:t(()=>[l(m,{icon:"plus",type:"primary",onClick:F},{default:t(()=>[u(p(e(a)("action.add")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),l(K,{rowKey:"id",ref_key:"tableRef",ref:C,"get-page":e(Y),filters:e(i),columns:e(U),showBatchDelete:!1,showPagination:!1,onHandleEdit:S,onHandleDelete:H},null,8,["get-page","filters","columns"])]),l(q,{title:e(E)?e(a)("action.edit"):e(a)("action.add"),width:"40%",draggable:"",modelValue:e(c),"onUpdate:modelValue":o[3]||(o[3]=d=>j(c)?c.value=d:null),"close-on-click-modal":!1,onClose:e(f)},{footer:t(()=>[l(m,{onClick:e(f)},{default:t(()=>[u(p(e(a)("action.cancel")),1)]),_:1},8,["onClick"]),l(m,{type:"primary",onClick:b},{default:t(()=>[u(p(e(a)("action.confirm")),1)]),_:1})]),default:t(()=>[l(g,{model:e(r),rules:e(x),ref_key:"formRef",ref:v,onKeyup:$(b,["enter"]),"label-width":"80px"},{default:t(()=>[l(s,{label:e(a)("thead.name"),prop:"name"},{default:t(()=>[l(y,{modelValue:e(r).name,"onUpdate:modelValue":o[1]||(o[1]=d=>e(r).name=d),placeholder:e(a)("thead.name")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(s,{label:e(a)("form.parent"),prop:"parentId"},{default:t(()=>[l(N,{modelValue:e(r).parentId,"onUpdate:modelValue":o[2]||(o[2]=d=>e(r).parentId=d),props:{label:"name",value:"id",checkStrictly:!0,emitPath:!1},options:_.value,clearable:"",filterable:"",class:"w100p"},null,8,["modelValue","options"])]),_:1},8,["label"])]),_:1},8,["model","rules","onKeyup"])]),_:1},8,["title","modelValue","onClose"])],64)}}};export{_e as default};
